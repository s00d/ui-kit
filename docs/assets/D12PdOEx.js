import{a6 as W,a7 as I,u as R,a9 as D,ao as M,ap as j,r as O,y as _,h as Y}from"./C296uaLE.js";const F=window.setInterval;function A(e){return W()?(I(e),!0):!1}function w(e){return typeof e=="function"?e():R(e)}const P=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=Object.prototype.toString,H=e=>B.call(e)==="[object Object]",h=()=>{},E=N();function N(){var e,t;return P&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const S={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function X(...e){if(e.length!==1)return D(...e);const t=e[0];return typeof t=="function"?M(j(()=>({get:t,set:h}))):O(t)}function m(e){var t;const o=w(e);return(t=o==null?void 0:o.$el)!=null?t:o}const T=P?window:void 0;function y(...e){let t,o,n,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,n,u]=e,t=T):[t,o,n,u]=e,!t)return h;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const c=[],i=()=>{c.forEach(d=>d()),c.length=0},s=(d,p,r,l)=>(d.addEventListener(p,r,l),()=>d.removeEventListener(p,r,l)),a=_(()=>[m(t),w(u)],([d,p])=>{if(i(),!d)return;const r=H(p)?{...p}:p;c.push(...o.flatMap(l=>n.map(f=>s(d,l,f,r))))},{immediate:!0,flush:"post"}),v=()=>{a(),i()};return A(v),v}let b=!1;function L(e,t,o={}){const{window:n=T,ignore:u=[],capture:c=!0,detectIframe:i=!1}=o;if(!n)return h;E&&!b&&(b=!0,Array.from(n.document.body.children).forEach(r=>r.addEventListener("click",h)),n.document.documentElement.addEventListener("click",h));let s=!0;const a=r=>u.some(l=>{if(typeof l=="string")return Array.from(n.document.querySelectorAll(l)).some(f=>f===r.target||r.composedPath().includes(f));{const f=m(l);return f&&(r.target===f||r.composedPath().includes(f))}}),d=[y(n,"click",r=>{const l=m(e);if(!(!l||l===r.target||r.composedPath().includes(l))){if(r.detail===0&&(s=!a(r)),!s){s=!0;return}t(r)}},{passive:!0,capture:c}),y(n,"pointerdown",r=>{const l=m(e);s=!a(r)&&!!(l&&!r.composedPath().includes(l))},{passive:!0}),i&&y(n,"blur",r=>{setTimeout(()=>{var l;const f=m(e);((l=n.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(f!=null&&f.contains(n.document.activeElement))&&t(r)},0)})].filter(Boolean);return()=>d.forEach(r=>r())}const V={[S.mounted](e,t){const o=!t.modifiers.bubble;if(typeof t.value=="function")e.__onClickOutside_stop=L(e,t.value,{capture:o});else{const[n,u]=t.value;e.__onClickOutside_stop=L(e,n,Object.assign({capture:o},u))}},[S.unmounted](e){e.__onClickOutside_stop()}};function k(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function C(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:C(o)}}function x(e){const t=e||window.event,o=t.target;return C(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const g=new WeakMap;function G(e,t=!1){const o=O(t);let n=null;_(X(e),i=>{const s=k(w(i));if(s){const a=s;g.get(a)||g.set(a,a.style.overflow),o.value&&(a.style.overflow="hidden")}},{immediate:!0});const u=()=>{const i=k(w(e));!i||o.value||(E&&(n=y(i,"touchmove",s=>{x(s)},{passive:!1})),i.style.overflow="hidden",o.value=!0)},c=()=>{var i;const s=k(w(e));!s||!o.value||(E&&(n==null||n()),s.style.overflow=(i=g.get(s))!=null?i:"",g.delete(s),o.value=!1)};return A(c),Y({get(){return o.value},set(i){i?u():c()}})}function $(){let e=!1;const t=O(!1);return(o,n)=>{if(t.value=n.value,e)return;e=!0;const u=G(o,n.value);_(t,c=>u.value=c)}}$();const z=e=>{const{top:t,left:o,height:n,width:u}=e.getBoundingClientRect(),c=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0,i=window.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft||0,s=t+c+n,a=o+i,v=s+n,d=a+u;return{top:s,left:a,bottom:v,right:d,width:u,height:n}};export{z as g,F as s,V as v};
