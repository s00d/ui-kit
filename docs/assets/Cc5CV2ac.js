import{Q as y,K as te,R as ne,g as V,h as _,S,U as oe,r as C,o as h,c as N,j as P,w as J,q as g,b as L,s as b,a as se,u as r,l as T,E as re,m as ae,k as le,v as ie,M as ce,e as ue,I as de,_ as j,D as U}from"./C296uaLE.js";import{_ as pe}from"./Dt696U6n.js";import{c as fe}from"./CwnFFlTy.js";import{_ as me}from"./CBge_H_R.js";const _e="data-n-ids",ve="-";function Ee(o){var d,n,a,p,m,v;if(typeof o!="string")throw new TypeError("[nuxt] [useId] key must be a string.");o=`n${o.slice(1)}`;const c=te(),t=ne();if(!t)throw new TypeError("[nuxt] `useId` must be called within a component setup function.");c._id||(c._id=0),t._nuxtIdIndex||(t._nuxtIdIndex={}),(d=t._nuxtIdIndex)[o]||(d[o]=0);const u=o+ve+t._nuxtIdIndex[o]++;if(c.payload.serverRendered&&c.isHydrating&&!y(fe,!1)){const l=((n=t.vnode.el)==null?void 0:n.nodeType)===8&&((p=(a=t.vnode.el)==null?void 0:a.nextElementSibling)!=null&&p.getAttribute)?(m=t.vnode.el)==null?void 0:m.nextElementSibling:t.vnode.el,f=JSON.parse(((v=l==null?void 0:l.getAttribute)==null?void 0:v.call(l,_e))||"{}");if(f[u])return f[u]}return o+"_"+c._id++}const K=Symbol("on-menu-level"),B=Symbol("on-menu-parent-path"),G=Symbol("on-menu-selected-items"),q=Symbol("on-menu-toggle-selected"),z=Symbol("on-menu-open-items"),H=Symbol("on-menu-set-open-items"),F=Symbol("on-menu-emit-click"),we=["role","tabindex"],ye={key:0,class:"icon"},he={class:"content"},Se={key:1,class:"after"},Ne=V({name:"OnMenuItem",__name:"on-menu-item",props:{icon:{default:void 0},href:{default:void 0},to:{default:void 0},name:{default:void 0},title:{default:void 0},exact:{type:Boolean},target:{default:void 0},wrapperArgs:{default:void 0}},emits:["click","focus","blur"],setup(o,{emit:c}){const t=o,u=c,d=Ee("$EGdDD1Zu1E"),n=_(()=>t.name||d),a=_(()=>t.href?"a":t.to?ue:"span"),p=y(G,void 0),m=y(q,void 0),v=y(B,void 0),l=_(()=>{const e=v?JSON.parse(JSON.stringify(r(v))):[];return e?[...e,...t.name?[t.name]:[]]:[n.value]});S(B,l);const f=y(K,0);S(K,f+1);const I=_(()=>({"--on-menu-level":f!==0?f:null})),s=y(z,void 0),i=y(H,void 0),E=_(()=>{var e;return!!((e=s==null?void 0:s.value)!=null&&e.includes(n.value))}),A=oe(),w=_(()=>!!A.submenu);function O(){u("click"),W(n.value,w.value),w.value?i==null||i(n.value):m==null||m(n.value,!M.value)}const M=_(()=>{var e;return!!((e=p==null?void 0:p.value)!=null&&e.includes(n.value))}),Q=_(()=>({"--active":M.value,"--open":E.value})),Y=_(()=>{const e={};return t.href?e.href=t.href:t.to&&(e.to=t.to,t.exact?e.exactActiveClass="--link-active":e.activeClass="--link-active"),{...e,...t.wrapperArgs||{}}}),R=C(),D=C();function Z(e){if(!["Space","Enter","ArrowRight","ArrowLeft"].includes(e.code))return;const x=e.target;x!==R.value&&x!==D.value||((e.code==="Space"||e.code==="ArrowRight")&&e.preventDefault(),!(!w.value&&["ArrowLeft","ArrowRight"].includes(e.code))&&(e.code==="Space"||e.code==="Enter"||E.value&&e.code==="ArrowLeft"||!E.value&&e.code==="ArrowRight")&&O())}const W=y(F,()=>{}),$=e=>{u("focus",e)},k=e=>{u("blur",e)};return(e,X)=>{const x=pe,ee=de;return h(),N("li",{ref_key:"liRef",ref:R,class:T(["on-menu-item",r(Q)]),role:r(w)?"presentation":"menuitem",tabindex:r(w)?void 0:-1,style:ce(r(I)),onKeydown:Z,onFocus:$,onBlur:k},[(h(),P(ae(r(a)),re({ref_key:"wrapperRef",ref:D,tabindex:r(w)?-1:void 0,class:"wrapper"},r(Y),{onClick:O,onFocus:$,onBlur:k}),{default:J(()=>[e.icon||e.$slots.icon?(h(),N("span",ye,[g(e.$slots,"icon",{},()=>[L(x,{class:"icon-default",name:e.icon},null,8,["name"])],!0)])):b("",!0),se("span",he,[g(e.$slots,"default",{},()=>[e.title?(h(),P(ee,{key:0,path:e.title},null,8,["path"])):b("",!0)],!0)]),e.$slots.after?(h(),N("span",Se,[g(e.$slots,"after",{},void 0,!0)])):b("",!0),r(w)?(h(),N("i",{key:2,class:T(["arrow",{"--open":r(E)}])},null,2)):b("",!0)]),_:3},16,["tabindex"])),L(me,null,{default:J(()=>[r(w)?le((h(),N("ul",{key:0,class:T(["submenu",{"--hidden":!r(E)}])},[g(e.$slots,"submenu",{},void 0,!0)],2)),[[ie,r(E)]]):b("",!0)]),_:3})],46,we)}}}),Te=j(Ne,[["__scopeId","data-v-245a6d01"]]);function be(){const o=C(),c=C();function t(){var n;return o.value?Array.from((n=o.value)==null?void 0:n.querySelectorAll('li[tabindex="-1"]:not(.submenu.--hidden li), .wrapper[tabindex="-1"]:not(.submenu.--hidden .wrapper)')):[]}function u(n){var f;n.preventDefault();const a=t();if(!a.length)return;const p=document.activeElement,m=p?a.indexOf(p):-1,v=n.key==="ArrowDown"?1:-1;let l=m+v;l>a.length-1?l=0:l<0&&(l=a.length-1),(f=a[l])==null||f.focus()}return{activeNode:c,containerRef:o,onKeyDown:n=>{if(["ArrowDown","ArrowUp"].includes(n.key))return u(n)}}}const ge=V({name:"OnMenu",__name:"index",props:{tag:{default:"li"},selectedKeys:{default:()=>[]},openKeys:{default:()=>[]},allowSelect:{type:Boolean},selectMultiple:{type:Boolean}},emits:["update:selectedKeys","update:openKeys","click:item"],setup(o,{emit:c}){const t=o,u=c,d=U(t,"selectedKeys",u,{passive:!0,deep:!0}),n=U(t,"openKeys",u,{passive:!0,deep:!0}),a=_(()=>t.selectMultiple?d.value:d.value.length?[d.value[0]]:[]);function p(s,i){!t.allowSelect||a.value.includes(s)===i||(i?t.selectMultiple?d.value.push(s):d.value=[s]:d.value=a.value.filter(A=>A!==s))}const m=s=>{n.value.includes(s)?n.value=n.value.filter(i=>i!==s):n.value.push(s)},v=(s,i)=>{u("click:item",s,!!i)},{activeNode:l,containerRef:f,onKeyDown:I}=be();return S(K,0),S(G,a),S(q,p),S(z,n),S(H,m),S(F,v),(s,i)=>(h(),N("ul",{ref_key:"containerRef",ref:f,class:"on-menu",tabindex:"0",onKeydown:i[0]||(i[0]=(...E)=>r(I)&&r(I)(...E))},[g(s.$slots,"default",{},void 0,!0)],544))}}),Ke=j(ge,[["__scopeId","data-v-8280f974"]]);export{Ke as _,Te as a};
