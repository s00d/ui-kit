import{_ as ue}from"./CwnFFlTy.js";import{h as P,u as F,r as I,a5 as de,y as G,a6 as me,a7 as pe,a8 as tt,g as ge,C as he,a9 as ve,D as we,U as ye,aa as xe,i as be,z as Re,o as ft,c as Rt,q as zt,b as It,w as Wt,j as Ee,N as Ce,T as Oe,E as Vt,k as Ae,a as Ht,M as Le,s as Yt,v as Te,F as De,n as Me,R as Se}from"./C296uaLE.js";const j=Math.min,k=Math.max,mt=Math.round,ut=Math.floor,q=t=>({x:t,y:t}),Pe={left:"right",right:"left",bottom:"top",top:"bottom"},ke={start:"end",end:"start"};function Et(t,e,o){return k(t,j(e,o))}function ot(t,e){return typeof t=="function"?t(e):t}function U(t){return t.split("-")[0]}function it(t){return t.split("-")[1]}function Kt(t){return t==="x"?"y":"x"}function At(t){return t==="y"?"height":"width"}function lt(t){return["top","bottom"].includes(U(t))?"y":"x"}function Lt(t){return Kt(lt(t))}function _e(t,e,o){o===void 0&&(o=!1);const n=it(t),s=Lt(t),r=At(s);let i=s==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(i=pt(i)),[i,pt(i)]}function Be(t){const e=pt(t);return[Ct(t),e,Ct(e)]}function Ct(t){return t.replace(/start|end/g,e=>ke[e])}function Ne(t,e,o){const n=["left","right"],s=["right","left"],r=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return o?e?s:n:e?n:s;case"left":case"right":return e?r:i;default:return[]}}function Fe(t,e,o,n){const s=it(t);let r=Ne(U(t),o==="start",n);return s&&(r=r.map(i=>i+"-"+s),e&&(r=r.concat(r.map(Ct)))),r}function pt(t){return t.replace(/left|right|bottom|top/g,e=>Pe[e])}function $e(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gt(t){return typeof t!="number"?$e(t):{top:t,right:t,bottom:t,left:t}}function gt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Xt(t,e,o){let{reference:n,floating:s}=t;const r=lt(e),i=Lt(e),l=At(i),c=U(e),a=r==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let u;switch(c){case"top":u={x:f,y:n.y-s.height};break;case"bottom":u={x:f,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:d};break;case"left":u={x:n.x-s.width,y:d};break;default:u={x:n.x,y:n.y}}switch(it(e)){case"start":u[i]-=g*(o&&a?-1:1);break;case"end":u[i]+=g*(o&&a?-1:1);break}return u}const ze=async(t,e,o)=>{const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:i}=o,l=r.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let a=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:d}=Xt(a,n,c),g=n,u={},m=0;for(let h=0;h<l.length;h++){const{name:b,fn:v}=l[h],{x:w,y,data:O,reset:C}=await v({x:f,y:d,initialPlacement:n,placement:g,strategy:s,middlewareData:u,rects:a,platform:i,elements:{reference:t,floating:e}});f=w??f,d=y??d,u={...u,[b]:{...u[b],...O}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(a=C.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:f,y:d}=Xt(a,g,c)),h=-1)}return{x:f,y:d,placement:g,strategy:s,middlewareData:u}};async function Tt(t,e){var o;e===void 0&&(e={});const{x:n,y:s,platform:r,rects:i,elements:l,strategy:c}=t,{boundary:a="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:g=!1,padding:u=0}=ot(e,t),m=Gt(u),b=l[g?d==="floating"?"reference":"floating":d],v=gt(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(b)))==null||o?b:b.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:a,rootBoundary:f,strategy:c})),w=d==="floating"?{...i.floating,x:n,y:s}:i.reference,y=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),O=await(r.isElement==null?void 0:r.isElement(y))?await(r.getScale==null?void 0:r.getScale(y))||{x:1,y:1}:{x:1,y:1},C=gt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:y,strategy:c}):w);return{top:(v.top-C.top+m.top)/O.y,bottom:(C.bottom-v.bottom+m.bottom)/O.y,left:(v.left-C.left+m.left)/O.x,right:(C.right-v.right+m.right)/O.x}}const Ie=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:s,rects:r,platform:i,elements:l,middlewareData:c}=e,{element:a,padding:f=0}=ot(t,e)||{};if(a==null)return{};const d=Gt(f),g={x:o,y:n},u=Lt(s),m=At(u),h=await i.getDimensions(a),b=u==="y",v=b?"top":"left",w=b?"bottom":"right",y=b?"clientHeight":"clientWidth",O=r.reference[m]+r.reference[u]-g[u]-r.floating[m],C=g[u]-r.reference[u],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a));let x=A?A[y]:0;(!x||!await(i.isElement==null?void 0:i.isElement(A)))&&(x=l.floating[y]||r.floating[m]);const T=O/2-C/2,D=x/2-h[m]/2-1,Z=j(d[v],D),V=j(d[w],D),L=Z,K=x-h[m]-V,M=x/2-h[m]/2+T,S=Et(L,M,K),B=!c.arrow&&it(s)!=null&&M!==S&&r.reference[m]/2-(M<L?Z:V)-h[m]/2<0,z=B?M<L?M-L:M-K:0;return{[u]:g[u]+z,data:{[u]:S,centerOffset:M-S-z,...B&&{alignmentOffset:z}},reset:B}}}),We=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:s,middlewareData:r,rects:i,initialPlacement:l,platform:c,elements:a}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...b}=ot(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const v=U(s),w=U(l)===l,y=await(c.isRTL==null?void 0:c.isRTL(a.floating)),O=g||(w||!h?[pt(l)]:Be(l));!g&&m!=="none"&&O.push(...Fe(l,h,m,y));const C=[l,...O],A=await Tt(e,b),x=[];let T=((n=r.flip)==null?void 0:n.overflows)||[];if(f&&x.push(A[v]),d){const L=_e(s,i,y);x.push(A[L[0]],A[L[1]])}if(T=[...T,{placement:s,overflows:x}],!x.every(L=>L<=0)){var D,Z;const L=(((D=r.flip)==null?void 0:D.index)||0)+1,K=C[L];if(K)return{data:{index:L,overflows:T},reset:{placement:K}};let M=(Z=T.filter(S=>S.overflows[0]<=0).sort((S,B)=>S.overflows[1]-B.overflows[1])[0])==null?void 0:Z.placement;if(!M)switch(u){case"bestFit":{var V;const S=(V=T.map(B=>[B.placement,B.overflows.filter(z=>z>0).reduce((z,at)=>z+at,0)]).sort((B,z)=>B[1]-z[1])[0])==null?void 0:V[0];S&&(M=S);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};async function Ve(t,e){const{placement:o,platform:n,elements:s}=t,r=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=U(o),l=it(o),c=lt(o)==="y",a=["left","top"].includes(i)?-1:1,f=r&&c?-1:1,d=ot(e,t);let{mainAxis:g,crossAxis:u,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&typeof m=="number"&&(u=l==="end"?m*-1:m),c?{x:u*f,y:g*a}:{x:g*a,y:u*f}}const He=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:s,y:r,placement:i,middlewareData:l}=e,c=await Ve(e,t);return i===((o=l.offset)==null?void 0:o.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:r+c.y,data:{...c,placement:i}}}}},Ye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:s}=e,{mainAxis:r=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...c}=ot(t,e),a={x:o,y:n},f=await Tt(e,c),d=lt(U(s)),g=Kt(d);let u=a[g],m=a[d];if(r){const b=g==="y"?"top":"left",v=g==="y"?"bottom":"right",w=u+f[b],y=u-f[v];u=Et(w,u,y)}if(i){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=m+f[b],y=m-f[v];m=Et(w,m,y)}const h=l.fn({...e,[g]:u,[d]:m});return{...h,data:{x:h.x-o,y:h.y-n}}}}},Xe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:o,rects:n,platform:s,elements:r}=e,{apply:i=()=>{},...l}=ot(t,e),c=await Tt(e,l),a=U(o),f=it(o),d=lt(o)==="y",{width:g,height:u}=n.floating;let m,h;a==="top"||a==="bottom"?(m=a,h=f===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(h=a,m=f==="end"?"top":"bottom");const b=u-c[m],v=g-c[h],w=!e.middlewareData.shift;let y=b,O=v;if(d){const A=g-c.left-c.right;O=f||w?j(v,A):A}else{const A=u-c.top-c.bottom;y=f||w?j(b,A):A}if(w&&!f){const A=k(c.left,0),x=k(c.right,0),T=k(c.top,0),D=k(c.bottom,0);d?O=g-2*(A!==0||x!==0?A+x:k(c.left,c.right)):y=u-2*(T!==0||D!==0?T+D:k(c.top,c.bottom))}await i({...e,availableWidth:O,availableHeight:y});const C=await s.getDimensions(r.floating);return g!==C.width||u!==C.height?{reset:{rects:!0}}:{}}}};function H(t){return Dt(t)?(t.nodeName||"").toLowerCase():"#document"}function _(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function X(t){var e;return(e=(Dt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dt(t){return t instanceof Node||t instanceof _(t).Node}function Y(t){return t instanceof Element||t instanceof _(t).Element}function W(t){return t instanceof HTMLElement||t instanceof _(t).HTMLElement}function jt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _(t).ShadowRoot}function ct(t){const{overflow:e,overflowX:o,overflowY:n,display:s}=$(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(s)}function je(t){return["table","td","th"].includes(H(t))}function Mt(t){const e=St(),o=$(t);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Jt(t){let e=nt(t);for(;W(e)&&!ht(e);){if(Mt(e))return e;e=nt(e)}return null}function St(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ht(t){return["html","body","#document"].includes(H(t))}function $(t){return _(t).getComputedStyle(t)}function vt(t){return Y(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nt(t){if(H(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jt(t)&&t.host||X(t);return jt(e)?e.host:e}function Qt(t){const e=nt(t);return ht(e)?t.ownerDocument?t.ownerDocument.body:t.body:W(e)&&ct(e)?e:Qt(e)}function rt(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const s=Qt(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=_(s);return r?e.concat(i,i.visualViewport||[],ct(s)?s:[],i.frameElement&&o?rt(i.frameElement):[]):e.concat(s,rt(s,[],o))}function te(t){const e=$(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=W(t),r=s?t.offsetWidth:o,i=s?t.offsetHeight:n,l=mt(o)!==r||mt(n)!==i;return l&&(o=r,n=i),{width:o,height:n,$:l}}function Pt(t){return Y(t)?t:t.contextElement}function et(t){const e=Pt(t);if(!W(e))return q(1);const o=e.getBoundingClientRect(),{width:n,height:s,$:r}=te(e);let i=(r?mt(o.width):o.width)/n,l=(r?mt(o.height):o.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const qe=q(0);function ee(t){const e=_(t);return!St()||!e.visualViewport?qe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ue(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==_(t)?!1:e}function J(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const s=t.getBoundingClientRect(),r=Pt(t);let i=q(1);e&&(n?Y(n)&&(i=et(n)):i=et(t));const l=Ue(r,o,n)?ee(r):q(0);let c=(s.left+l.x)/i.x,a=(s.top+l.y)/i.y,f=s.width/i.x,d=s.height/i.y;if(r){const g=_(r),u=n&&Y(n)?_(n):n;let m=g.frameElement;for(;m&&n&&u!==g;){const h=et(m),b=m.getBoundingClientRect(),v=$(m),w=b.left+(m.clientLeft+parseFloat(v.paddingLeft))*h.x,y=b.top+(m.clientTop+parseFloat(v.paddingTop))*h.y;c*=h.x,a*=h.y,f*=h.x,d*=h.y,c+=w,a+=y,m=_(m).frameElement}}return gt({width:f,height:d,x:c,y:a})}const Ze=[":popover-open",":modal"];function ne(t){let e=!1,o=0,n=0;function s(r){try{e=e||t.matches(r)}catch{}}if(Ze.forEach(r=>{s(r)}),e){const r=Jt(t);if(r){const i=r.getBoundingClientRect();o=i.x,n=i.y}}return[e,o,n]}function Ke(t){let{elements:e,rect:o,offsetParent:n,strategy:s}=t;const r=X(n),[i]=e?ne(e.floating):[!1];if(n===r||i)return o;let l={scrollLeft:0,scrollTop:0},c=q(1);const a=q(0),f=W(n);if((f||!f&&s!=="fixed")&&((H(n)!=="body"||ct(r))&&(l=vt(n)),W(n))){const d=J(n);c=et(n),a.x=d.x+n.clientLeft,a.y=d.y+n.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-l.scrollLeft*c.x+a.x,y:o.y*c.y-l.scrollTop*c.y+a.y}}function Ge(t){return Array.from(t.getClientRects())}function oe(t){return J(X(t)).left+vt(t).scrollLeft}function Je(t){const e=X(t),o=vt(t),n=t.ownerDocument.body,s=k(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=k(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+oe(t);const l=-o.scrollTop;return $(n).direction==="rtl"&&(i+=k(e.clientWidth,n.clientWidth)-s),{width:s,height:r,x:i,y:l}}function Qe(t,e){const o=_(t),n=X(t),s=o.visualViewport;let r=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){r=s.width,i=s.height;const a=St();(!a||a&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:r,height:i,x:l,y:c}}function tn(t,e){const o=J(t,!0,e==="fixed"),n=o.top+t.clientTop,s=o.left+t.clientLeft,r=W(t)?et(t):q(1),i=t.clientWidth*r.x,l=t.clientHeight*r.y,c=s*r.x,a=n*r.y;return{width:i,height:l,x:c,y:a}}function qt(t,e,o){let n;if(e==="viewport")n=Qe(t,o);else if(e==="document")n=Je(X(t));else if(Y(e))n=tn(e,o);else{const s=ee(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return gt(n)}function ie(t,e){const o=nt(t);return o===e||!Y(o)||ht(o)?!1:$(o).position==="fixed"||ie(o,e)}function en(t,e){const o=e.get(t);if(o)return o;let n=rt(t,[],!1).filter(l=>Y(l)&&H(l)!=="body"),s=null;const r=$(t).position==="fixed";let i=r?nt(t):t;for(;Y(i)&&!ht(i);){const l=$(i),c=Mt(i);!c&&l.position==="fixed"&&(s=null),(r?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ct(i)&&!c&&ie(t,i))?n=n.filter(f=>f!==i):s=l,i=nt(i)}return e.set(t,n),n}function nn(t){let{element:e,boundary:o,rootBoundary:n,strategy:s}=t;const i=[...o==="clippingAncestors"?en(e,this._c):[].concat(o),n],l=i[0],c=i.reduce((a,f)=>{const d=qt(e,f,s);return a.top=k(d.top,a.top),a.right=j(d.right,a.right),a.bottom=j(d.bottom,a.bottom),a.left=k(d.left,a.left),a},qt(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function on(t){const{width:e,height:o}=te(t);return{width:e,height:o}}function sn(t,e,o,n){const s=W(e),r=X(e),i=o==="fixed",l=J(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const a=q(0);if(s||!s&&!i)if((H(e)!=="body"||ct(r))&&(c=vt(e)),s){const h=J(e,!0,i,e);a.x=h.x+e.clientLeft,a.y=h.y+e.clientTop}else r&&(a.x=oe(r));let f=l.left+c.scrollLeft-a.x,d=l.top+c.scrollTop-a.y;const[g,u,m]=ne(n);return g&&(f+=u,d+=m,s&&(f+=e.clientLeft,d+=e.clientTop)),{x:f,y:d,width:l.width,height:l.height}}function Ut(t,e){return!W(t)||$(t).position==="fixed"?null:e?e(t):t.offsetParent}function se(t,e){const o=_(t);if(!W(t))return o;let n=Ut(t,e);for(;n&&je(n)&&$(n).position==="static";)n=Ut(n,e);return n&&(H(n)==="html"||H(n)==="body"&&$(n).position==="static"&&!Mt(n))?o:n||Jt(t)||o}const rn=async function(t){const e=this.getOffsetParent||se,o=this.getDimensions;return{reference:sn(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await o(t.floating)}}};function ln(t){return $(t).direction==="rtl"}const cn={convertOffsetParentRelativeRectToViewportRelativeRect:Ke,getDocumentElement:X,getClippingRect:nn,getOffsetParent:se,getElementRects:rn,getClientRects:Ge,getDimensions:on,getScale:et,isElement:Y,isRTL:ln};function an(t,e){let o=null,n;const s=X(t);function r(){var l;clearTimeout(n),(l=o)==null||l.disconnect(),o=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),r();const{left:a,top:f,width:d,height:g}=t.getBoundingClientRect();if(l||e(),!d||!g)return;const u=ut(f),m=ut(s.clientWidth-(a+d)),h=ut(s.clientHeight-(f+g)),b=ut(a),w={rootMargin:-u+"px "+-m+"px "+-h+"px "+-b+"px",threshold:k(0,j(1,c))||1};let y=!0;function O(C){const A=C[0].intersectionRatio;if(A!==c){if(!y)return i();A?i(!1,A):n=setTimeout(()=>{i(!1,1e-7)},100)}y=!1}try{o=new IntersectionObserver(O,{...w,root:s.ownerDocument})}catch{o=new IntersectionObserver(O,w)}o.observe(t)}return i(!0),r}function fn(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,a=Pt(t),f=s||r?[...a?rt(a):[],...rt(e)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",o,{passive:!0}),r&&v.addEventListener("resize",o)});const d=a&&l?an(a,o):null;let g=-1,u=null;i&&(u=new ResizeObserver(v=>{let[w]=v;w&&w.target===a&&u&&(u.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=u)==null||y.observe(e)})),o()}),a&&!c&&u.observe(a),u.observe(e));let m,h=c?J(t):null;c&&b();function b(){const v=J(t);h&&(v.x!==h.x||v.y!==h.y||v.width!==h.width||v.height!==h.height)&&o(),h=v,m=requestAnimationFrame(b)}return o(),()=>{var v;f.forEach(w=>{s&&w.removeEventListener("scroll",o),r&&w.removeEventListener("resize",o)}),d==null||d(),(v=u)==null||v.disconnect(),u=null,c&&cancelAnimationFrame(m)}}const un=Ye,dn=We,mn=Xe,pn=Ie,gn=(t,e,o)=>{const n=new Map,s={platform:cn,...o},r={...s.platform,_c:n};return ze(t,e,{...s,platform:r})};function hn(t){return t!=null&&typeof t=="object"&&"$el"in t}function Ot(t){if(hn(t)){const e=t.$el;return Dt(e)&&H(e)==="#comment"?null:e}return t}function vn(t){return{name:"arrow",options:t,fn(e){const o=Ot(F(t.element));return o==null?{}:pn({element:o,padding:t.padding}).fn(e)}}}function re(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zt(t,e){const o=re(t);return Math.round(e*o)/o}function wn(t,e,o){o===void 0&&(o={});const n=o.whileElementsMounted,s=P(()=>{var x;return(x=F(o.open))!=null?x:!0}),r=P(()=>F(o.middleware)),i=P(()=>{var x;return(x=F(o.placement))!=null?x:"bottom"}),l=P(()=>{var x;return(x=F(o.strategy))!=null?x:"absolute"}),c=P(()=>{var x;return(x=F(o.transform))!=null?x:!0}),a=P(()=>Ot(t.value)),f=P(()=>Ot(e.value)),d=I(0),g=I(0),u=I(l.value),m=I(i.value),h=de({}),b=I(!1),v=P(()=>{const x={position:u.value,left:"0",top:"0"};if(!f.value)return x;const T=Zt(f.value,d.value),D=Zt(f.value,g.value);return c.value?{...x,transform:"translate("+T+"px, "+D+"px)",...re(f.value)>=1.5&&{willChange:"transform"}}:{position:u.value,left:T+"px",top:D+"px"}});let w;function y(){a.value==null||f.value==null||gn(a.value,f.value,{middleware:r.value,placement:i.value,strategy:l.value}).then(x=>{d.value=x.x,g.value=x.y,u.value=x.strategy,m.value=x.placement,h.value=x.middlewareData,b.value=!0})}function O(){typeof w=="function"&&(w(),w=void 0)}function C(){if(O(),n===void 0){y();return}if(a.value!=null&&f.value!=null){w=n(a.value,f.value,y);return}}function A(){s.value||(b.value=!1)}return G([r,i,l],y,{flush:"sync"}),G([a,f],C,{flush:"sync"}),G(s,A,{flush:"sync"}),me()&&pe(O),{x:tt(d),y:tt(g),strategy:tt(u),placement:tt(m),middlewareData:tt(h),isPositioned:tt(b),floatingStyles:v,update:y}}function yn(t,e){if(e===0)return t;let o;return n=>{clearTimeout(o),o=setTimeout(()=>{t(n)},e)}}const xn={placement:"bottom",active:void 0,lazy:!1,popperClass:void 0,popperOptions:()=>({}),trigger:null,interactive:!1,mouseMoveDebounce:30,transitionName:"none",arrow:!0,transitionProps:void 0,popperAttrs:()=>({}),tabIndex:void 0,fullWidth:!1,offset:10},bn=["tabindex"],Rn={class:"on-popper-wrapper"},En={class:"on-popper__content"},dt=2,Ln=ge({name:"OnPopper",inheritAttrs:!1,__name:"index",props:he({placement:{},active:{type:Boolean},lazy:{type:Boolean},popperClass:{},popperOptions:{},trigger:{},interactive:{type:Boolean},mouseMoveDebounce:{},transitionName:{},transitionProps:{},disabled:{type:Boolean},arrow:{type:Boolean},popperAttrs:{},tabIndex:{},fullWidth:{type:Boolean},offset:{}},xn),emits:["update:active"],setup(t,{expose:e,emit:o}){const n=t,s=o,r=ve(n,"placement"),i=I(),l=I(),c=I(),a=I(!n.lazy),f=we(n,"active",s,{passive:!0}),d={focus:{enter:"focus",leave:"blur"},hover:{},click:{enter:"click"},contextmenu:{enter:"contextmenu"}};G(f,p=>{p&&(a.value=!0,m())});const g=P(()=>{const p=[He(n.offset),un(),dn()];return n.arrow&&p.push(vn({element:c})),n.fullWidth&&p.push(mn({apply({rects:R,elements:E}){Object.assign(E.floating.style,{width:`${R.reference.width}px`})}})),p}),u=I(),m=()=>{const p=Array.from(document.querySelectorAll(".on-popper.--open")).filter(E=>E!==l.value).map(E=>{const N=parseInt(getComputedStyle(E).zIndex,10);return Number.isNaN(N)?null:N}).filter(E=>!!E),R=Math.max(...p);R&&R!==1/0&&!Number.isNaN(R)?u.value=R+1:u.value=null},{floatingStyles:h,update:b,y:v,x:w,middlewareData:y,placement:O}=wn(i,l,{whileElementsMounted:fn,placement:r,middleware:g,...n.popperOptions}),C=P(()=>[n.popperClass,`--p-${O.value}`,{"--p-interactive":n.interactive,"--open":f.value}]),A=P(()=>({...h.value,willChange:void 0,transform:`translate(${Math.round(w.value)}px, ${Math.round(v.value)}px)`,zIndex:u.value})),x=P(()=>n.arrow),T=P(()=>{const p=y.value.arrow;return{left:(p==null?void 0:p.x)!=null?`${p.x}px`:"",top:(p==null?void 0:p.y)!=null?`${p.y}px`:""}}),D=Se(),Z=ye();G(()=>Z.default(),()=>{Me(()=>{kt(),b()})}),G(i,(p,R)=>{R&&n.trigger&&wt(n.trigger,R),p&&n.trigger&&at(n.trigger,p)},{immediate:!0}),G(()=>n.trigger,(p,R)=>{i.value&&(R&&wt(R,i.value),p&&at(p,i.value))}),xe(i,p=>{var E;if(!f.value||!n.trigger||d[n.trigger].leave)return;const R=p.target;R&&((E=l.value)!=null&&E.contains(R)||l.value===R)||(f.value=!1)});function V(p){n.trigger==="contextmenu"&&p.preventDefault(),!n.disabled&&(f.value=!0)}function L(){f.value=!1}function K(p){var Nt,Ft,$t;const R=(Nt=l.value)==null?void 0:Nt.getBoundingClientRect();if(!R)return!0;const E=O.value.split("-")[0],N=Math.abs(((Ft=y.value.offset)==null?void 0:Ft.x)??0),st=Math.abs((($t=y.value.offset)==null?void 0:$t.y)??0);let Q=R.top-dt,yt=R.bottom+dt,xt=R.left-dt,bt=R.right+dt;E==="bottom"&&(Q=Q-st),E==="top"&&(yt=yt+st),E==="left"&&(bt=bt+N),E==="right"&&(xt=xt-N);const le=p.clientY<Q,ce=p.clientY>yt,ae=p.clientX<xt,fe=p.clientX>bt;return le||ce||ae||fe}function M(p){var st,Q;const R=p,E=R.target;if((st=i.value)!=null&&st.contains(E)||i.value===E){!f.value&&V(p);return}if((Q=l.value)!=null&&Q.contains(E)||!f.value)return;K(R)&&L()}const S=yn(M,n.mouseMoveDebounce);function B(){document.addEventListener("mousemove",S)}function z(){document.removeEventListener("mousemove",S)}function at(p,R){if(p==="hover"){B();return}const E=d[p].enter,N=d[p].leave;E&&R.addEventListener(E,V),N&&R.addEventListener(N,L)}function wt(p,R){if(p==="hover"){z();return}const E=d[p].enter,N=d[p].leave;E&&R.removeEventListener(E,V),N&&R.removeEventListener(N,L)}function kt(){var p,R;i.value=((R=(p=D==null?void 0:D.vnode)==null?void 0:p.el)==null?void 0:R.nextElementSibling)??null}be(()=>{kt()}),Re(()=>{!n.trigger||!i.value||wt(n.trigger,i.value)});const _t=()=>{n.disabled||(f.value=!0)},Bt=()=>{f.value=!1};return e({open:_t,close:Bt,toggle:()=>{if(f.value){_t();return}Bt()},targetNode:i,contentRef:l,arrowRef:c,isContentMounted:a}),(p,R)=>{const E=ue;return ft(),Rt(De,null,[zt(p.$slots,"default"),It(E,null,{default:Wt(()=>[(ft(),Ee(Ce,{to:"body"},[It(Oe,Vt({name:p.transitionName},p.transitionProps),{default:Wt(()=>[F(a)?Ae((ft(),Rt("div",Vt({key:0,ref_key:"contentRef",ref:l,class:["on-popper",F(C)],style:F(A),tabindex:p.tabIndex},p.$attrs),[Ht("div",Rn,[F(x)?(ft(),Rt("div",{key:0,ref_key:"arrowRef",ref:c,class:"on-popper__arrow",style:Le(F(T))},null,4)):Yt("",!0),Ht("div",En,[zt(p.$slots,"content")])])],16,bn)),[[Te,F(f)&&!p.disabled]]):Yt("",!0)]),_:3},16,["name"])]))]),_:3})],64)}}});export{Ln as _,xn as o};
